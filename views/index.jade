extends layout
block append head
  script(type='text/javascript', src='/socket.io/socket.io.js')
  != css('app')
block content
  each city in allCities
    div(id="#{city.placeId}-time", class=(city.placeId === query.city ? 'spotlight' : ''))
  script(type='text/javascript').
    var query = !{JSON.stringify(query)};
    var allCities = !{JSON.stringify(allCities)};
  != js('//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js')
  != js('//d3js.org/d3.v3.min.js')
  != js('//d3js.org/topojson.v1.min.js')
  != js('//underscorejs.org/underscore-min.js')
  != js('//cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js')
  != js('//cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.0.3/moment-timezone.min.js')
  != js('moment-timezone-data.js')
  != js('util')
  != js('visualization')
  != js('socket-client')
  != js('time')
  != js('app')
